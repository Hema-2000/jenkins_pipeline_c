//always option for entire pipeline
pipeline {
    agent { label "label1" }
    stages {
        stage("stage1") {
            steps {
                echo "2nd stage"
            }
        }
        stage("stage2") {
            steps {
                echo "2nd stage"
            }
        }
    }    
    post {
        always {
            echo "post build actions"
        }
    }
    
}



//always option for individual stages
pipeline {
    agent { label "label1" }
    stages {
        stage("stage1") {
            steps {
                echo "2nd stage"
            }
            post {
                always {
                    echo "post build actions"
                }
            }
        }
        stage("stage2") {
            steps {
                echo "2nd stage"
            }
            post {
                always {
                    echo "post build actions"
                }
            }
        }
    }   
    
}



pipeline {
    agent any
    stages {
        stage ('Build') {
            steps {
                echo "Building!!!!"
            }
        }
    }
    post {
        changed {  //post build actions..... when new commit pulled in then the steps within changed block got executed
            echo "Post build ===> Changed is called "
        }
    }
}


